"use strict";window.Graal=function(){var a=function(a){this.listeners={},this.id=a.getAttribute("name")||a.getAttribute("graal-id"),this.DOMelement=a,this.type=a.getAttribute("graal-type")||a.getAttribute("type")||a.tagName.toLowerCase(),this.pseudo=[];var b=this,c=null;"checkbox"===this.type&&(c=document.createElement("span"),this.pseudo.push(c),c.setAttribute("graal-type","checkbox"),b.DOMelement.checked&&c.setAttribute("graal-value","true"),c.addEventListener("click",function(){if("true"===c.getAttribute("graal-value")?(c.setAttribute("graal-value",!1),b.DOMelement.checked=!1):(c.setAttribute("graal-value",!0),b.DOMelement.checked=!0),Event){var a=new Event("change");b.DOMelement.dispatchEvent(a)}else b.DOMelement.fireEvent("onchange")}),this.DOMelement.parentNode.insertBefore(c,this.DOMelement.nextSibling)),"radio"===this.type&&(c=document.createElement("span"),this.pseudo.push(c),c.setAttribute("graal-type","radio"),c.setAttribute("graal-render-id",this.id),b.DOMelement.checked&&c.setAttribute("graal-value","true"),c.addEventListener("click",function(){var a=document.querySelectorAll("[graal-render-id="+b.id+"]"),d=0;for(d=a.length-1;d>=0;d-=1)a[d].setAttribute("graal-value",!1);if("true"===c.getAttribute("graal-value"))c.setAttribute("graal-value",!1),b.DOMelement.checked=!1;else if(c.setAttribute("graal-value",!0),b.DOMelement.checked=!0,Event){var e=new Event("change");b.DOMelement.dispatchEvent(e)}else b.DOMelement.fireEvent("onchange")}),this.DOMelement.parentNode.insertBefore(c,this.DOMelement.nextSibling)),-1===["submit","button","textarea","text"].indexOf(this.type)&&(this.DOMelement.style.display="none")};a.prototype.bind=function(a,b){switch(a){case"change":this.DOMelement.addEventListener(a,b),this.listeners[a]=b;break;default:this.pseudo.length>0?this.pseudo[0].addEventListener(a,b):this.DOMelement.addEventListener(a,b),this.listeners[a]=b}return this};var b={isReady:!1,objects:{},doms:[],run:function(){window.onload=function(){var c=0,d=null;for(b.doms=document.querySelectorAll("input, select, textarea, button, [graal-id]"),c=b.doms.length-1;c>=0;c-=1)d=new a(b.doms[c]),null!==d.id&&(b.objects[d.id]=d);b.onReady(),b.isReady=!0}},ready:function(a){b.isReady?a():b.onReady=a},get:function(a){return b.objects[a]}};return b.run(),b}();